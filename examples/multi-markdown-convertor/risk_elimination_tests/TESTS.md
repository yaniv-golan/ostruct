Below are **30 critical "known-unknowns"** that can trip us up later.  Each one is paired with a *minimal litmus test* we can run now (usually a 5-line script plus a hand-crafted micro-document) to gather objective data before we dive into full implementation.

| #  | Unknown / Risky Assumption                                                     | 1–Hour Smoke Test (minimal artefact)                                             | Key Metric or Signal                    | Why it Matters to the Big Plan                                | Test Directory |
| -- | ------------------------------------------------------------------------------ | -------------------------------------------------------------------------------- | --------------------------------------- | ------------------------------------------------------------- | -------------- |
| 1  | **PyMuPDF solves multi-column PDFs**                                           | Create a 2-column academic PDF, run `page.get_text("blocks")`, check block order | ratio of correctly sequenced paragraphs | If wrong, we must add PDFMiner.six or layout heuristics early | [tests/test_01_pymupdf_multicolumn](./tests/test_01_pymupdf_multicolumn/) |
| 2  | **`page.find_tables()` catches 90 % of real tables**                           | Feed 10 PDFs with simple & borderless tables                                     | precision / recall vs. manual labels    | Drives fallback strategy for tables (Camelot, Tabula, LTTR)   | [tests/test_02_pymupdf_table_detection](./tests/test_02_pymupdf_table_detection/) |
| 3  | **OCR via Tesseract inside PyMuPDF is "good enough" on low-res scans**         | 3 scanned pages, Hebrew + English mix                                            | word-error-rate (WER) < 10 %            | Decides if we need Azure Form Recognizer or Abbyy             | [tests/test_03_ocr_tesseract](./tests/test_03_ocr_tesseract/) |
| 4  | **Pandoc keeps numbered-list start values**                                    | DOCX with list starting at 7 → Pandoc → MD                                       | start number preserved? Y/N             | Affects ordered-list JSON schema design                       | [tests/test_04_pandoc_numbered_lists](./tests/test_04_pandoc_numbered_lists/) |
| 5  | **MarkItDown preserves nested lists depth ≥ 3**                                | PPTX with deeply nested bullet slide                                             | max depth retained                      | Guides LLM prompt for list repair                             | [tests/test_05_markitdown_nested_lists](./tests/test_05_markitdown_nested_lists/) |
| 6  | **python-docx reliably exposes custom heading styles**                         | DOCX with "Heading 1 Custom" style                                               | style name visible? Y/N                 | Needed for heading-level mapping                              | [tests/test_06_python_docx_custom_styles](./tests/test_06_python_docx_custom_styles/) |
| 7  | **Merged-cell detection via `tblLook` flags is consistent**                    | Two DOCX tables: one with header row shading, one plain                          | header row correctly flagged?           | Impacts header-vs-body inference                              | [tests/test_07_merged_cell_detection](./tests/test_07_merged_cell_detection/) |
| 8  | **`python-pptx` retains text order matching visual order**                     | Slide with two textboxes: left/right                                             | extraction order aligns? Y/N            | Influences slide-to-markdown sequencing                       | [tests/test_08_pptx_text_order](./tests/test_08_pptx_text_order/) |
| 9  | **`openpyxl` formula string vs. cached value parity**                          | XLSX with volatile formulas                                                      | mismatch rate                           | Decides when to fire up xlwings/Excel                         | [tests/test_09_openpyxl_formulas](./tests/test_09_openpyxl_formulas/) |
| 10 | **xlwings chart export keeps transparent bg**                                  | Export chart as PNG, embed in MD renderer                                        | alpha channel preserved?                | Affects dark-mode rendering in final docs                     | [tests/test_10_xlwings_chart_export](./tests/test_10_xlwings_chart_export/) |
| 11 | **LLM (GPT-4o) can parse a 5-header table into strict JSON within 8 K tokens** | Feed 20-row table text via ostruct                                               | JSON validation pass rate               | Validates context-window + cost assumptions                    | [tests/test_11_llm_table_parsing](./tests/test_11_llm_table_parsing/) |
| 12 | **File-Search vector store can index 100-page PDF under 30 s**                 | Time `ostruct --fsa` on big PDF                                                  | elapsed seconds                         | Determines UX and batching strategy                            | [tests/test_12_file_search_indexing](./tests/test_12_file_search_indexing/) |
| 13 | **Code-Interpreter sandbox prevents outbound network even via `socket`**       | Run `socket.getaddrinfo` in CI                                                   | blocked? Y/N                            | Confirms security story to enterprise clients                  | [tests/test_13_code_interpreter_security](./tests/test_13_code_interpreter_security/) |
| 14 | **YAML + Jinja front-matter round-trips non-ASCII safely**                     | Template with emoji + RTL text                                                   | diff(original, rendered)                | Avoids silent corruption in prompts                            | [tests/test_14_yaml_jinja_roundtrip](./tests/test_14_yaml_jinja_roundtrip/) |
| 15 | **Web-search tool returns deterministic ordering for same query**              | Two runs of `web.search("Markdown spec")`                                        | identical top-3 URLs?                   | Needed if we rely on deterministic tests                       | [tests/test_15_web_search_deterministic](./tests/test_15_web_search_deterministic/) |
| 16 | **LLM can learn our custom bullet glyph mappings from 2 few-shot examples**    | Prompt with 2 examples, ask for 3rd                                              | accuracy of mapping                     | Decides few-shot vs. rule-based preprocessing                  | [tests/test_16_llm_bullet_mapping](./tests/test_16_llm_bullet_mapping/) |
| 17 | **Cost per average DOCX < \$0.05 at chosen model**                             | Batch 50 docs, track tokens                                                      | mean USD                                | Influences budget / caching design                             | [tests/test_17_cost_per_docx](./tests/test_17_cost_per_docx/) |
| 18 | **Self-improvement loop can merge diff suggestions w/o hallucination**         | Feed ostruct a fabricated discrepancy list                                       | % sensible patch suggestions            | Determines viability of autonomous prompt tuning               | [tests/test_18_self_improvement_loop](./tests/test_18_self_improvement_loop/) |
| 19 | **PDFMiner layout params can be auto-tuned by grid search quickly**            | 5 layouts × 10 pages                                                             | best F1 vs. baseline                    | If slow, we pre-bake params per template                       | [tests/test_19_pdfminer_auto_tuning](./tests/test_19_pdfminer_auto_tuning/) |
| 20 | **MarkItDown's OCR fallback keeps text order on skewed scans**                 | Skewed 15° invoice PDF                                                           | order error count                       | Otherwise need pre-deskew step                                 | [tests/test_20_markitdown_ocr_order](./tests/test_20_markitdown_ocr_order/) |
| 21 | **LLM reliably detects figure captions by proximity rule (±1 para)**           | 20 mixed PDFs                                                                    | recall of true captions                 | May require vision model or caption regex                      | [tests/test_21_llm_figure_captions](./tests/test_21_llm_figure_captions/) |
| 22 | **`ostruct` Meta-Schema generator handles recursive list schema**              | Generate from nested-list template                                               | schema valid? Y/N                       | Saves hand-writing schemas                                     | [tests/test_22_ostruct_meta_schema](./tests/test_22_ostruct_meta_schema/) |
| 23 | **Token-limit check in ostruct aborts before API call**                        | Feed 150 K tokens, inspect logs                                                  | is call skipped?                        | Prevents expensive failures in prod                            | [tests/test_23_token_limit_check](./tests/test_23_token_limit_check/) |
| 24 | **Parallel `ostruct` calls saturate RPS limit safely**                         | 20 goroutines hitting GPT-4o                                                     | errors / throttles per min              | Guides queue / back-off design                                 | [tests/test_24_parallel_ostruct_rps](./tests/test_24_parallel_ostruct_rps/) |
| 25 | **Cache hit ratio exceeds 70 % with SHA-256 of input chunk**                   | Deduplicate 100 similar docs                                                     | hit ratio                               | Justifies caching infra                                        | [tests/test_25_cache_hit_ratio](./tests/test_25_cache_hit_ratio/) |
| 26 | **Markdown renderer used by clients supports pipe-tables & HTML comments**     | Render sample with both features                                                 | visual OK? Y/N                          | Impacts table / speaker-note strategy                          | [tests/test_26_markdown_renderer_support](./tests/test_26_markdown_renderer_support/) |
| 27 | **Hebrew RTL paragraphs stay RTL after Pandoc → MD → renderer**                | Mixed-lang doc round-trip                                                        | visual rtl?                             | Critical for Israeli customers                                 | [tests/test_27_hebrew_rtl_preservation](./tests/test_27_hebrew_rtl_preservation/) |
| 28 | **LLM semantic-diff false-positive rate < 5 %**                                | Compare 50 pairs with ground truth                                               | FP count / total                        | Determines trust in auto-validation gate                       | [tests/test_28_llm_semantic_diff](./tests/test_28_llm_semantic_diff/) |
| 29 | **Chunking large PDFs into ≤ 8 K token hunks keeps entity links intact**       | Chunk then extract entities, check continuity                                    | broken-link count                       | Informs chunk size heuristic                                   | [tests/test_29_chunking_entity_links](./tests/test_29_chunking_entity_links/) |
| 30 | **Docker image with all deps stays < 1 GB**                                    | Build minimal converter image                                                    | image size MB                           | Influences CI/CD and cold-start latency                        | [tests/test_30_docker_image_size](./tests/test_30_docker_image_size/) |

---

### How to Proceed

1. **Spin up a scratch repo** with a `tests` folder; each unknown gets a `test_##.py` (or shell snippet) plus a tiny sample file committed under `fixtures/`.
2. **Run all 30 tests**  and capture JSON logs.
3. **Return the raw metrics** to me; I'll adjust schema designs, prompt strategy, fallback tool chain, and cost model based on real data instead of assumptions.

By burning a couple of days on these micro-experiments, we de-risk the entire roadmap and prevent expensive mid-project rewrites.
