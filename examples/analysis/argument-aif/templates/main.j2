This template has been replaced by a comprehensive multi-pass AIF pipeline.

# Migration Notice

The monolithic `main.j2` template has been replaced with a complete 6-pass pipeline system that provides:

- Better argument extraction quality
- Proper AIF compliance
- Relationship validation
- Semantic analysis
- Resume capability

## New Usage

Instead of using this template directly, use the new pipeline:

```bash
# Old way (deprecated):
# ostruct run templates/main.j2 schemas/main.json --file fs:doc document.txt

# New way (recommended):
./pipeline.sh document.txt
```

## Pipeline Benefits

1. **Multi-pass processing**: Document outline → Section extraction → Graph synthesis → Global linking → Consistency check → Embedding analysis
2. **Better quality**: Specialized templates for each processing stage
3. **Resume capability**: Restart from any interrupted pass
4. **Validation**: Comprehensive quality checks and error detection
5. **Scalability**: Handles large documents efficiently

## Migration Guide

The new pipeline produces richer output with the same input documents:

- **Input**: Any Markdown, TXT, or OCR-converted PDF
- **Output**: `final_graph.json` (main result) + `embeddings.json` (semantic analysis)
- **Quality**: Higher node extraction accuracy and relationship detection

## Quick Start

```bash
# Process your document
./pipeline.sh path/to/your/document.md

# Results in output_<timestamp>/
ls -la output_*/
```

For detailed documentation, see the updated README.md.

---

**Note**: This template is kept for backward compatibility but will produce a migration notice instead of processing. Please use the new pipeline system for all new work.
